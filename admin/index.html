<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Admin tool for creating SchoolCBT exam JSON files">
  <title>SchoolCBT Admin Tool - Exam Builder</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">

  <!-- Local Vendor Scripts -->
  <script src="../shared/vendor/ajv.min.js"></script>
  <script src="../shared/vendor/ajv-adapter.js"></script>
  <!-- <script src="../shared/vendor/ajv-formats.min.js"></script> -->
  <script src="../shared/validator.js"></script>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>üìù SchoolCBT Exam Builder</h1>
      <p>Convert Word-pasted questions into validated exam JSON files</p>
    </header>

    <!-- Instructions -->
    <div class="instructions">
      <h3>üìã How to Use</h3>
      <ul>
        <li>Paste your exam questions in the format shown in the sample</li>
        <li>Click <strong>"Load Sample"</strong> to see an example format</li>
        <li>Click <strong>"Parse & Validate"</strong> to convert and check your input</li>
        <li>If valid, click <strong>"Download JSON"</strong> to save the exam file</li>
        <li>Save the downloaded file to the <code>/exams/</code> folder with the name <code>{examId}.json</code></li>
      </ul>
    </div>

    <!-- Message Display -->
    <div id="message" class="message hidden"></div>

    <!-- Main Input Section -->
    <section class="section">
      <h2 class="section-title">Exam Questions Input</h2>

      <div class="input-group">
        <label for="input-text">
          Paste your exam content below (metadata + questions):
        </label>
        <textarea id="input-text" placeholder="EXAM_ID: MATH-2025-001
TITLE: Mathematics First Term Exam
SUBJECT: Mathematics
CLASS: JSS1
TERM: First Term
ACADEMIC_YEAR: 2024/2025
DURATION: 60
TOTAL_MARKS: 50
PASS_MARK: 25
SHUFFLE_QUESTIONS: true
SHUFFLE_OPTIONS: true
SHOW_RESULTS: true
ALLOW_REVIEW: false
CREATED_BY: Mr. Johnson
INSTRUCTIONS: Answer all questions. Choose the best option.

---

1. What is 2 + 2?
A. 3
B. 4
C. 5
D. 6
ANSWER: B
MARKS: 1

2. What is the capital of Nigeria?
A. Lagos
B. Abuja
C. Kano
D. Port Harcourt
ANSWER: B
MARKS: 1"></textarea>
      </div>

      <!-- Action Buttons -->
      <div class="button-group">
        <button id="load-sample-btn" class="btn btn-outline">
          üìÑ Load Sample
        </button>
        <button id="parse-btn" class="btn btn-primary">
          ‚ö° Parse & Validate
        </button>
        <button id="download-btn" class="btn btn-success" disabled>
          üíæ Download JSON
        </button>
        <button id="clear-btn" class="btn btn-secondary">
          üóëÔ∏è Clear Form
        </button>
      </div>
    </section>

    <!-- Preview Section -->
    <section id="preview" class="preview hidden">
      <div class="preview-header">
        <h3>JSON Preview</h3>
        <button id="toggle-preview" class="btn btn-secondary btn-sm">
          ‚ñ≤ Hide Preview
        </button>
      </div>
      <pre id="preview-content" class="preview-content"></pre>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>
        SchoolCBT Admin Tool v1.0.0 |
        Schema Version: 1.0.0 |
        <a href="sample-input.txt" target="_blank" style="color: var(--primary);">View Sample Input</a> |
        <a href="sample-output.json" target="_blank" style="color: var(--primary);">View Sample Output</a>
      </p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="../shared/validator.js"></script>
  <script src="../schemas/exam_schema.js"></script>
  <script>
    window.SAMPLE_INPUT = `EXAM_ID: MATH-2025-001
TITLE: Mathematics First Term Examination
SUBJECT: Mathematics
CLASS: JSS1
TERM: First Term
ACADEMIC_YEAR: 2024/2025
DURATION: 60
TOTAL_MARKS: 50
PASS_MARK: 25
SHUFFLE_QUESTIONS: true
SHUFFLE_OPTIONS: true
SHOW_RESULTS: true
ALLOW_REVIEW: false
CREATED_BY: Mr. Johnson
INSTRUCTIONS: Answer all questions. Choose the best option from A, B, C, or D. No calculators allowed.

---

1. What is 2 + 2?
A. 3
B. 4
C. 5
D. 6
ANSWER: B
MARKS: 1

2. What is the capital of Nigeria?
A. Lagos
B. Abuja
C. Kano
D. Port Harcourt
ANSWER: B
MARKS: 1

3. Which of the following is a prime number?
A. 4
B. 6
C. 7
D. 8
ANSWER: C
MARKS: 1

4. What is 5 √ó 6?
A. 25
B. 30
C. 35
D. 40
ANSWER: B
MARKS: 1

5. What is the square root of 16?
A. 2
B. 4
C. 6
D. 8
ANSWER: B
MARKS: 1`;
  </script>
  <script src="parser.js"></script>
  <script>
    window.SAMPLE_INPUT_TEXT = `EXAM_ID: MATH-2025-001
TITLE: Mathematics First Term Examination
SUBJECT: Mathematics
CLASS: JSS1
TERM: First Term
ACADEMIC_YEAR: 2024/2025
DURATION: 60
TOTAL_MARKS: 50
PASS_MARK: 25
SHUFFLE_QUESTIONS: true
SHUFFLE_OPTIONS: true
SHOW_RESULTS: true
ALLOW_REVIEW: false
CREATED_BY: Mr. Johnson
INSTRUCTIONS: Answer all questions. Choose the best option from A, B, C, or D. No calculators allowed.

---

1. What is 2 + 2?
A. 3
B. 4
C. 5
D. 6
ANSWER: B
MARKS: 1

2. What is the capital of Nigeria?
A. Lagos
B. Abuja
C. Kano
D. Port Harcourt
ANSWER: B
MARKS: 1

3. Which of the following is a prime number?
A. 4
B. 6
C. 7
D. 8
ANSWER: C
MARKS: 1

4. What is 5 √ó 6?
A. 25
B. 30
C. 35
D. 40
ANSWER: B
MARKS: 1

5. What is the square root of 16?
A. 2
B. 4
C. 6
D. 8
ANSWER: B
MARKS: 1`;
  </script>
  <script src="app.js"></script>
</body>

</html>